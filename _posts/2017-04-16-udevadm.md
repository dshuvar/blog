---
title: udevadm
published: false
categories: work
tags: tools
date: '2017-03-30 16:43:00 +0300'
---
### udevadm - udev management tool

Почему появилась статья:
Я бы хотел оставить себе задокументированное послание, которое легко можно было найти.
При этом мне придется обьяснить как себе, так и возможным читателям статьи как и почему указанное решение работает.

Решение проблемы:

`rm /etc/udev/rules.d/70-persistent-net.rules`

Описание проблемы:

В случае деградации железного сервера и последующей замены материнской платы или сетевых контроллеров или установки дисков в новую платформу, при загрузке сервера не произойдет корректной загрузки сети, т.к при использовании linux операционных систем в файле `/etc/udev/rules.d/70-persistent-net.rules` хранится информации о PCI-netwokr устройствах и для конкретных сетевых интерфейсов назначен mac-адрес, поэтому при загрузке операционной системы с подключенным новым устройством ядро при инициилизации устройств проверяет записи существующих ранее устройства в каталоге /sys/devices и соответсвенно находит конфигурацию прежнего с сетевого контроллера(интерфейса) с прежним адресным пространством, но автоматически не переинициилизирует новое устройство, поэтому ядру следует дать понять что адресное пространство изменилось удалив указанный в решении конфигурационный файл, который будет сгенерирован при новой загрузке ядра, согласно правилам в исполняемом скрипте `/lib/udev/write_net_rules`.

Нужно сделать:
- провести эксперимент - при замене платформы не удалять файл, а запустить скрипт /lib/udev/write_net_rules
- провести эксперемент - при замене платформы запустить утилиту udevadm control с опцией --reload 


