---
title: Разница между raid 1+0 и 0+1
date: '2017-002-06T00:00:00.000Z'
categories: work
tags: raid
published: true
---
Оказывается, я всю жизнь ошибочно считал что raid 1+0 и 0+1 это одно и тоже, но это на самом деле не так.

Все дело в том, список преимуществ при использовании обои массивов идентичен, но операции восстановления диска в случае отказа различаются. 

## raid 1+0

Основным элементом массива является зеркальная шара.
Это означает, что данные сначала зеркалируются, а потом обе копии данны чередуются по группе в нескольких парах дисков.

При замене отказавшего диска восстанавливается только зеркальная запись.
Т.е контроллер использует неповрежденный диск зеркальной пары для восстановления данных.
Данные с уцелевшего диска копируются на диск, установленный в качестве замены пострадавшему диску.

```
                    |
     __________чередование__________
    /               |               \
зеркалирование зеркалирование зеркалирование
   _|_             _|_             _|_
  |   |           |   |           |   |  
|a1| |a1|       |a2| |a2|       |a3| |a3|
|b1| |b1|       |b2| |b2|       |b3| |b3|
|c1| |c1|       |c2| |c2|       |b3| |b3|
|d1| |d1|       |d2| |d2|       |d3| |d3|
|e1| |e1|       |e2| |e2|       |d3| |d3|
зеркальный      зеркальный      зеркальный
  набор           набор           набор
```

## raid 0+1

Основным элементом массива является зеркальная дорожка.
Это означает, что сначала выполняется процесс обеспечивающий чередование данных по разным дискам, а затем зеркалируется вся дорожка.

При отказе одного диска происходит отказ одной дорожки.
Во время восстановления копируется вся дорожка.
Т.е данные копируются с каждого диска состовляющего неповрежденную дорожку, на соответвующий ему диск из состава ранее отказавшей дорожки.
При этом увеличивается объем операций ввода\вывода на неповрежденных дисках, а массив становится более уязвим к повторному отказу дисков.


```
                 |
        __зеркалирование__
       /                  \
  чередование        чередование
 /     |     \      /     |     \
|a1|  |a2|  |a3|   |a1|  |a2|  |a3|
|b1|  |b2|  |b3|   |b1|  |b2|  |b3|
|c1|  |c2|  |c3|   |c1|  |c2|  |c3|
|d1|  |d2|  |d3|   |d1|  |d2|  |d3|
|e1|  |e2|  |e3|   |e1|  |e2|  |e3|
  чередующийся       чередующийся
      набор              набор
      
```

Вот что нового я почерпнул из книги "От хранения данных к управлению информацией." написанной сотрудниками компании [EMC](http://www.emc.com/).

Баркод: 9785496018593
ISBN: 978-5-496-01859-3
